{% extends "app/layout.html" %}
{% load django_bootstrap5 %}
{% block content %}

<style>
.hero {
  position: fixed;
  width: 100%;
  height: 100%;
  z-index: -1;
  top: 0;
  left: 0;
}

.container {
  min-height: 100vh;
  padding-top: 100px;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  position: relative;
}

.white-box {
  background-color: white;
  padding: 30px;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
  width: 100%;
  max-width: 960px;
  margin: auto;
}
</style>

<div class="container">
  <div class="white-box">
    {% if report %}
      <!-- Carousel -->
      <div
        id="carouselExampleControls"
        class="carousel"
        style="margin-bottom: 15px"
        data-bs-interval="false"
      >
        <div class="carousel-inner h-100">
          {% for image in img_path_list %}
            <a href="{{image}}">
              {% if forloop.first %}
                <div class="carousel-item active">
                  <img
                    src="{{image}}"
                    class="d-block img-fluid w-100"
                    style="object-fit: contain; width: 300px; height: 500px"
                    alt="..."
                  />
                </div>
              {% else %}
                <div class="carousel-item">
                  <img
                    src="{{image}}"
                    class="d-block img-fluid w-100"
                    style="object-fit: contain; width: 300px; height: 500px"
                    alt="..."
                  />
                </div>
              {% endif %}
            </a>
          {% endfor %}
          <button
            class="carousel-control-prev"
            type="button"
            data-bs-target="#carouselExampleControls"
            data-bs-slide="prev"
          >
            <span class="carousel-control-prev-icon" style="filter: invert(100%)" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button
            class="carousel-control-next"
            type="button"
            data-bs-target="#carouselExampleControls"
            data-bs-slide="next"
          >
            <span class="carousel-control-next-icon" style="filter: invert(100%)" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div>

      <!-- Report details -->
      <table class="table table-striped table-hover">
        <tbody>
          {% for attr, val in fields.items %}
            <tr>
              <th scope="row">{{attr}}</th>
              <td>{{val}}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>

      <!-- Map button -->
      <a href="https://www.google.com/maps/search/?api=1&query={{ report.loc_lat }},{{ report.loc_lng }}">
        <button class="btn btn-primary">View on map</button>
      </a>
    {% else %}
      <h1>Invalid id</h1>
    {% endif %}
  </div> <!-- End of white-box -->
</div> <!-- End of container -->


{% endblock %}
